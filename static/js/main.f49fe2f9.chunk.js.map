{"version":3,"sources":["components/TodoList/ActionList/ActionList.module.scss","components/TodoList/TodoItem/TodoItem.module.scss","components/TodoList/Filter/Filter.module.scss","components/TodoList/Footer/Footer.module.scss","components/TodoList/TodoList.module.scss","components/TodoList/InputBox/InputBox.module.scss","components/TodoList/SearchBox/SearchBox.module.scss","components/TodoList/Header/Header.module.scss","components/TodoList/Info/Info.module.scss","services/filter.js","services/mode.js","context/todo.js","services/todo.js","components/TodoList/TodoItem/TodoItem.js","components/TodoList/InputBox/InputBox.js","components/TodoList/SearchBox/SearchBox.js","components/TodoList/InputToggle/InputToggle.js","components/TodoList/Header/Header.js","components/TodoList/ActionList/ActionList.js","components/TodoList/Filter/Filter.js","components/TodoList/Footer/Footer.js","components/TodoList/Info/Info.js","hooks/useKeyboardShortcut.js","components/TodoList/TodoList.js","components/TodoList/useTodoKeyboardShortcuts.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","FILTER_ALL","FILTER_ACTIVE","FILTER_DONE","getOptions","MODE_NONE","MODE_SEARCH","MODE_ADD","TodoStateContext","React","createContext","TodoDispatchContext","filterOptions","getFilterOptions","inputModes","ADD_ITEM","SEARCH_ITEM","TOGGLE_ITEM","TOGGLE_FILTER","TOGGLE_MODE","todoReducer","state","action","type","itemText","value","Error","nextId","items","length","toString","produce","draft","push","id","text","done","queryString","query","itemId","itemToToggle","find","item","filterValue","filter","mode","includes","TodoProvider","children","useReducer","dispatch","Provider","useTodoState","context","useContext","useTodoDispatch","TodoItem","props","data","cssClass","cn","styles","TodoItem____done","className","TodoItem__content","checkbox","checked","onChange","InputBox","useState","setValue","placeholder","e","target","onKeyUp","keyCode","KEY_RETURN","trim","SearchBox","InputToggle","Header","ActionList","handleClick","ActionList__item","onClick","ImageButton____add","ImageButton____selected","ImageButton____search","options","Filter","computeCssClass","key","LinkButton","LinkButton____selected","Object","entries","map","Filter__item","toggleFilter","Footer","count","Footer__label","Footer__counter","Info","message","blacklistedTargets","ACTION_KEYDOWN","ACTION_KEYUP","ACTION_RESET","keysReducer","useKeyboardShortcut","shortcutKeys","callback","Array","isArray","lowerCaseKeys","toLowerCase","initialKeyMapping","reduce","keys","currentKey","setKeys","handleKeydown","useCallback","keydownEvent","repeat","lowerCaseKey","tagName","handleKeyup","keyupEvent","useEffect","values","every","window","addEventListener","removeEventListener","TodoList","listContent","filteredItems","applyFilter","indexOf","search","createModeKeys","VALUE_SHIFT","VALUE_A","searchModeKeys","VALUE_S","noInputModeKeys","VALUE_ESCAPE","useTodoKeyboardShortcuts","TodoList__info","TodoList__content","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f49fe2f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ActionList\":\"ActionList_ActionList__1FRvH\",\"ActionList__item\":\"ActionList_ActionList__item__2mjQb\",\"ImageButton\":\"ActionList_ImageButton__LEdPW\",\"ImageButton____add\":\"ActionList_ImageButton____add__2lAqN\",\"ImageButton____search\":\"ActionList_ImageButton____search__2qHKG\",\"ImageButton____selected\":\"ActionList_ImageButton____selected__1Y1aI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoItem\":\"TodoItem_TodoItem__Qnlg8\",\"TodoItem____done\":\"TodoItem_TodoItem____done__1k6V5\",\"TodoItem__content\":\"TodoItem_TodoItem__content__3fdje\",\"checkbox\":\"TodoItem_checkbox__3qgxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Filter\":\"Filter_Filter__3fpZt\",\"Filter__item\":\"Filter_Filter__item__LVm3l\",\"LinkButton\":\"Filter_LinkButton__X_4jP\",\"LinkButton____selected\":\"Filter_LinkButton____selected__4fAqz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__3WXMg\",\"Footer__label\":\"Footer_Footer__label__3kqrn\",\"Footer__counter\":\"Footer_Footer__counter__Of6Ic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoList\":\"TodoList_TodoList__3hnL-\",\"TodoList__content\":\"TodoList_TodoList__content__3Kbs5\",\"TodoList__info\":\"TodoList_TodoList__info__1xEN2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputBox\":\"InputBox_InputBox__B-Ft7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputBox\":\"SearchBox_InputBox__37P4e\",\"SearchBox\":\"SearchBox_SearchBox__3Dqim\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__39x9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Info\":\"Info_Info__3ha2y\"};","\nexport const FILTER_ALL = 'all';\nexport const FILTER_ACTIVE = 'active';\nexport const FILTER_DONE = 'done';\n\nexport function getOptions() {\n    return {\n        [FILTER_ALL]: FILTER_ALL,\n        [FILTER_ACTIVE]: FILTER_ACTIVE,\n        [FILTER_DONE]: FILTER_DONE\n    };\n}\n\nexport function applyFilter(items, filter) {\n    if (filter === FILTER_DONE) {\n        return items.filter(item => item.done === true);\n    }\n\n    if (filter === FILTER_ACTIVE) {\n        return items.filter(item => item.done === false);\n    }\n\n    return [...items];\n}\n\nexport function search(items, query) {\n    const queryString = query.toLowerCase();\n    if (query == null) {\n        return [...items];\n    }\n\n    return items.filter(item => item.text.toLowerCase().indexOf(queryString) !== -1);\n}\n","export const MODE_NONE = 'none';\nexport const MODE_SEARCH = 'search';\nexport const MODE_ADD = 'add';\n\nexport function getModes() {\n    return [MODE_NONE, MODE_SEARCH, MODE_ADD];\n}","import React, { useReducer } from \"react\";\nimport produce from \"immer\";\nimport PropTypes from 'prop-types';\nimport { getAll, createNew } from '../services/todo';\nimport { getOptions as getFilterOptions, FILTER_ALL } from \"../services/filter\";\nimport { MODE_ADD, getModes as getInputModes } from \"../services/mode\";\n\n\nconst TodoStateContext = React.createContext();\nconst TodoDispatchContext = React.createContext();\nconst filterOptions = getFilterOptions();\nconst inputModes = getInputModes();\n\nconst ADD_ITEM = 'add-item';\nconst SEARCH_ITEM = 'search-item';\nconst TOGGLE_ITEM = 'toggle-item';\nconst TOGGLE_FILTER = 'toggle-filter';\nconst TOGGLE_MODE = 'toggle-mode';\n\nfunction todoReducer(state, action) {\n    switch (action.type) {\n        case ADD_ITEM: {\n            const itemText = action.value;\n            if (itemText == null) {\n                throw new Error(`${action.type}: item text not specified`);\n            }\n\n            const nextId = (state.items.length + 1).toString();\n            return produce(state, draft => {\n                draft.items.push(createNew({ id: nextId, text: itemText }));\n            });\n        }\n        case SEARCH_ITEM: {\n            const queryString = action.value;\n            if (queryString == null) {\n                throw new Error(`${action.type}: query not specified`);\n            }\n\n            return produce(state, draft => {\n                draft.query = queryString;\n            });\n        }\n        case TOGGLE_ITEM: {\n            const itemId = action.value;\n            if (itemId == null) {\n                throw new Error(`${action.type}: item id not specified`);\n            }\n\n            return produce(state, draft => {\n                const itemToToggle = draft.items.find(item => item.id === itemId);\n                if (itemToToggle == null) {\n                    throw new Error(`${action.type}: item with id ${itemId} not found`);\n                }\n                itemToToggle.done = !itemToToggle.done;\n            });\n        }\n        case TOGGLE_FILTER: {\n            const filterValue = action.value;\n            if (!(filterValue in filterOptions)) {\n                throw new Error(`${action.type}: filter ${filterValue} not found`);\n            }\n\n            return produce(state, draft => {\n                draft.filter = filterValue;\n            });\n        }\n        case TOGGLE_MODE: {\n            const mode = action.value;\n            if (!inputModes.includes(mode)) {\n                throw new Error(`${action.type}: input mode ${mode} not recognized`);\n            }\n\n            return produce(state, draft => {\n                if (draft.mode !== mode) {\n                    draft.mode = mode;\n                    draft.query = '';\n                    draft.filter = FILTER_ALL;\n                }\n            });\n        }\n        default: {\n            throw new Error(`Unhandled action type: ${action.type}`);\n        }\n\n    }\n}\n\nfunction TodoProvider({ children }) {\n    const items = getAll();\n    const [state, dispatch] = useReducer(todoReducer, { items, mode: MODE_ADD, filter: FILTER_ALL, query: '' });\n\n    return (\n        <TodoStateContext.Provider value={state}>\n            <TodoDispatchContext.Provider value={dispatch}>\n                {children}\n            </TodoDispatchContext.Provider>\n        </TodoStateContext.Provider>\n    );\n}\n\nTodoProvider.propTypes = {\n    children: PropTypes.element.isRequired\n}\n\nfunction useTodoState() {\n    const context = React.useContext(TodoStateContext);\n    if (context == null) {\n        throw new Error(`useTodoState must be within a TodoProvider`);\n    }\n\n    return context;\n}\n\nfunction useTodoDispatch() {\n    const context = React.useContext(TodoDispatchContext);\n    if (context == null) {\n        throw new Error(`useTodoDispatch must be within a TodoProvider`);\n    }\n\n    return context;\n}\n\nexport {\n    TodoProvider,\n    useTodoState,\n    useTodoDispatch,\n    ADD_ITEM,\n    SEARCH_ITEM,\n    TOGGLE_ITEM,\n    TOGGLE_FILTER,\n    TOGGLE_MODE\n};","\nexport function getAll() {\n    return [\n        {\n            id: '1',\n            text: 'Learn JavaScript',\n            done: true\n        },\n        {\n            id: '2',\n            text: 'Learn React',\n            done: false\n        },\n        {\n            id: '3',\n            text: 'Build a React app',\n            done: false\n        }\n    ];\n}\n\nexport function createNew({ id, text }) {\n    return { id, text, done: false };\n}","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { useTodoDispatch, TOGGLE_ITEM } from '../../../context/todo';\n\nimport styles from './TodoItem.module.scss';\n\n\nfunction TodoItem(props) {\n    const { data } = props;\n    const dispatch = useTodoDispatch();\n    const cssClass = cn(styles.TodoItem, { [styles.TodoItem____done]: data.done });\n\n    function handleChange() {\n        dispatch({ type: TOGGLE_ITEM, value: data.id });\n    }\n\n    return (\n        <li className={cssClass}>\n            <div className={styles.TodoItem__content}>\n                <label>\n                    <input type=\"checkbox\"\n                        className={styles.checkbox}\n                        checked={data.done}\n                        onChange={handleChange} />\n                    {data.text}\n                </label>\n            </div>\n        </li>\n    );\n}\n\nTodoItem.propTypes = {\n    data: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n        done: PropTypes.bool.isRequired\n    })\n};\n\nexport default TodoItem;","import { KEY_RETURN } from 'keycode-js';\nimport { useState } from 'react';\nimport { useTodoDispatch, ADD_ITEM } from '../../../context/todo';\n\nimport styles from './InputBox.module.scss';\n\nexport default function InputBox() {\n    const [value, setValue] = useState('');\n    const dispatch = useTodoDispatch();\n\n    function handleKeyUp(e) {\n        if (e.keyCode === KEY_RETURN) {\n            dispatch({ type: ADD_ITEM, value: value.trim() });\n            setValue('');\n        }\n    }\n\n    return (\n        <input type=\"text\"\n            className={styles.InputBox}\n            placeholder=\"Add New\"\n            value={value}\n            onChange={e => setValue(e.target.value)}\n            onKeyUp={handleKeyUp} />\n    );\n}\n","import { useTodoDispatch, useTodoState, SEARCH_ITEM } from '../../../context/todo';\n\nimport styles from './SearchBox.module.scss';\n\n\nexport default function SearchBox() {\n    const { query } = useTodoState();\n    const dispatch = useTodoDispatch();\n\n    function handleChange(e) {\n        const value = e.target.value;\n        if (value != null) {\n            dispatch({ type: SEARCH_ITEM, value });\n        }\n    }\n\n    return (\n        <input type=\"text\"\n            className={styles.SearchBox}\n            placeholder=\"Search\"\n            value={query}\n            onChange={handleChange} />\n    );\n}\n","import PropTypes from 'prop-types';\nimport InputBox from '../InputBox';\nimport SearchBox from '../SearchBox';\nimport { MODE_ADD, MODE_SEARCH, getModes } from '../../../services/mode';\n\nfunction InputToggle(props) {\n    const { mode, query } = props;\n    if (mode === MODE_ADD) {\n        return <InputBox />;\n    }\n\n    if (mode === MODE_SEARCH) {\n        return <SearchBox query={query} />;\n    }\n\n    return null;\n}\n\nInputToggle.propTypes = {\n    mode: PropTypes.oneOf(getModes()).isRequired,\n    query: PropTypes.string\n}\n\nexport default InputToggle;","import styles from './Header.module.scss';\n\n\nexport default function Header() {\n    return (\n        <h1 className={styles.Header}>Things to do</h1>\n    );\n}","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { useTodoDispatch, TOGGLE_MODE } from '../../../context/todo';\nimport { getModes, MODE_ADD, MODE_SEARCH } from '../../../services/mode';\n\nimport styles from './ActionList.module.scss';\n\n\nfunction ActionList(props) {\n    const { mode } = props;\n    const dispatch = useTodoDispatch();\n    function handleClick(e) {\n        dispatch({ type: TOGGLE_MODE, value: e.target.value });\n    }\n\n    return (\n        <ul className={styles.ActionList}>\n            <li className={styles.ActionList__item}>\n                <button type=\"button\" aria-label=\"Create Mode\"\n                    value={MODE_ADD}\n                    onClick={handleClick}\n                    className={cn(styles.ImageButton____add,\n                        { [styles.ImageButton____selected]: mode === MODE_ADD })}\n                    data-testid=\"action-add\">\n                </button>\n            </li>\n            <li className={styles.ActionList__item}>\n                <button type=\"button\" aria-label=\"Search Mode\"\n                    value={MODE_SEARCH}\n                    onClick={handleClick}\n                    className={cn(styles.ImageButton____search,\n                        { [styles.ImageButton____selected]: mode === MODE_SEARCH })}\n                    data-testid=\"action-search\">\n                </button>\n            </li>\n        </ul>\n    );\n}\n\nActionList.propTypes = {\n    mode: PropTypes.oneOf(getModes())\n};\n\nexport default ActionList;","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useTodoDispatch, TOGGLE_FILTER } from '../../../context/todo';\nimport { getOptions as getFilterOptions } from '../../../services/filter';\n\nimport styles from './Filter.module.scss';\n\n\nconst options = getFilterOptions();\n\nfunction Filter(props) {\n    const { filter } = props;\n    const dispatch = useTodoDispatch();\n\n    function computeCssClass(key) {\n        return cn(styles.LinkButton, { [styles.LinkButton____selected]: key === filter });\n    }\n\n    function toggleFilter(key) {\n        dispatch({ type: TOGGLE_FILTER, value: key })\n    }\n\n    return (\n        <ul className={styles.Filter}>\n            {Object.entries(options).map(([key, value]) => (\n                <li className={styles.Filter__item} key={key}>\n                    <button type=\"button\" className={computeCssClass(key)}\n                        onClick={() => toggleFilter(key)}>{value}</button>\n                </li>\n            ))}\n        </ul>\n    );\n}\n\nFilter.propTypes = {\n    filter: PropTypes.string.isRequired\n}\n\nexport default Filter;","import PropTypes from 'prop-types';\nimport { getOptions as getFilterOptions } from '../../../services/filter';\nimport { getModes } from '../../../services/mode';\nimport ActionList from '../ActionList';\nimport Filter from '../Filter';\n\nimport styles from './Footer.module.scss';\n\n\nfunction Footer(props) {\n    const { count, filter, mode } = props;\n\n    return (\n        <div className={styles.Footer}>\n            <ActionList mode={mode} />\n            <label className={styles.Footer__label} data-testid='counter'>\n                <span className={styles.Footer__counter}>{count}</span>\n                {' items left'}\n            </label>\n            <Filter filter={filter} />\n        </div>\n    );\n}\n\nFooter.propTypes = {\n    count: PropTypes.number.isRequired,\n    filter: PropTypes.oneOf(Object.values(getFilterOptions())).isRequired,\n    mode: PropTypes.oneOf(getModes()).isRequired\n};\n\nexport default Footer;","import PropTypes from 'prop-types';\nimport { MODE_NONE, getModes } from \"../../../services/mode\";\n\nimport styles from './Info.module.scss';\n\n\nfunction Info(props) {\n    const { mode } = props;\n    const INFO_SHORTCUT_KEYS = 'Press `Shift + S` to search and `Shift + A` to create a new item.';\n    const INFO_CANCEL_SHORTCUT_KEY = 'Press `Esc` to cancel.';\n\n    const message = mode === MODE_NONE ? INFO_SHORTCUT_KEYS : INFO_CANCEL_SHORTCUT_KEY;\n\n    return <p className={styles.Info}>{message}</p>;\n}\n\nInfo.propTypes = {\n    mode: PropTypes.oneOf(getModes())\n}\n\nexport default Info;","import produce from \"immer\";\nimport { useCallback, useEffect, useReducer } from \"react\";\n\n\nconst blacklistedTargets = [\"input\", \"textarea\"];\nconst ACTION_KEYDOWN = 'key-down';\nconst ACTION_KEYUP = 'key-up';\nconst ACTION_RESET = 'reset';\n\nfunction useKeyboardShortcut(shortcutKeys, callback) {\n    if (!Array.isArray(shortcutKeys)) {\n        throw new Error('The first parameter to `useKeyboardShortcut` must be an ordered array of `KeyboardEvent.key` strings.');\n    }\n\n    if (!shortcutKeys.length) {\n        throw new Error('The first parameter to `useKeyboardShortcut` must contain at least one `KeyboardEvent.key` string.');\n    }\n\n    if (!callback || typeof callback !== \"function\") {\n        throw new Error('The second parameter to `useKeyboardShortcut` must be a function that will be invoked when the keys are pressed.');\n    }\n\n    const lowerCaseKeys = shortcutKeys.map(key => key.toLowerCase());\n    const initialKeyMapping = lowerCaseKeys.reduce((keys, currentKey) => {\n        keys[currentKey] = false;\n        return keys;\n    }, {});\n\n    const [keys, setKeys] = useReducer(keysReducer, initialKeyMapping);\n\n    const handleKeydown = useCallback(keydownEvent => {\n        const { key, target, repeat } = keydownEvent;\n        const lowerCaseKey = key.toLowerCase();\n\n        if (repeat ||\n            blacklistedTargets.includes(target.tagName.toLowerCase()) ||\n            !lowerCaseKeys.includes(lowerCaseKey)) {\n            return;\n        }\n\n        if (!keys[lowerCaseKey]) {\n            setKeys({ type: ACTION_KEYDOWN, key: lowerCaseKey });\n        }\n    }, [keys, lowerCaseKeys]);\n\n    const handleKeyup = useCallback(keyupEvent => {\n        const { key, target } = keyupEvent;\n        const lowerCaseKey = key.toLowerCase();\n\n        if (blacklistedTargets.includes(target.tagName.toLowerCase()) ||\n            !lowerCaseKeys.includes(lowerCaseKey)) {\n            return;\n        }\n\n        if (keys[lowerCaseKey]) {\n            setKeys({ type: ACTION_KEYUP, key: lowerCaseKey });\n        }\n    }, [keys, lowerCaseKeys]);\n\n    useEffect(() => {\n        if (Object.values(keys).every(value => value)) {\n            callback(keys);\n            setKeys({ type: ACTION_RESET, data: initialKeyMapping });\n        }\n    }, [callback, keys, initialKeyMapping]);\n\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeydown, true);\n        return () => window.removeEventListener('keydown', handleKeydown, true);\n    }, [handleKeydown]);\n\n    useEffect(() => {\n        window.addEventListener('keyup', handleKeyup, true);\n        return () => window.removeEventListener('keyup', handleKeyup, true);\n    }, [handleKeyup]);\n\n    return null;\n}\n\nfunction keysReducer(state, action) {\n    switch (action.type) {\n        case ACTION_KEYDOWN: {\n            return produce(state, draft => {\n                draft[action.key] = true;\n            });\n        }\n        case ACTION_KEYUP: {\n            return produce(state, draft => {\n                draft[action.key] = false;\n            });\n        }\n        case ACTION_RESET: {\n            return { ...action.data };\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nexport default useKeyboardShortcut;","\nimport { useTodoState } from '../../context/todo';\nimport { applyFilter, search } from '../../services/filter';\nimport TodoItem from './TodoItem';\nimport InputToggle from './InputToggle';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Info from './Info';\nimport useTodoKeyboardShortcuts from './useTodoKeyboardShortcuts';\n\nimport styles from './TodoList.module.scss';\n\n\nexport default function TodoList() {\n    const { items, mode, filter, query } = useTodoState();\n    const filteredItems = applyFilter(search(items, query), filter);\n    const count = filteredItems.length;\n\n    useTodoKeyboardShortcuts();\n\n    let listContent;\n    if (filteredItems.length === 0) {\n        listContent = <p className={styles.TodoList__info}>There are no items.</p>;\n    } else {\n        listContent = (\n            <ul className={styles.TodoList__content} data-testid=\"todo-list\">\n                {filteredItems.map(item => <TodoItem key={item.id} data={item} />)}\n            </ul>\n        );\n    }\n\n    return (\n        <section className={styles.TodoList}>\n            <>\n                <Header />\n                <InputToggle mode={mode} query={query} />\n\n                {listContent}\n\n                <Footer count={count} filter={filter} mode={mode} />\n            </>\n            <Info mode={mode} />\n        </section>\n    );\n}\n","import { VALUE_A, VALUE_S, VALUE_ESCAPE, VALUE_SHIFT } from 'keycode-js';\nimport { useTodoDispatch, TOGGLE_MODE } from \"../../context/todo\";\nimport { MODE_ADD, MODE_SEARCH, MODE_NONE } from '../../services/mode';\nimport useKeyboardShortcut from \"../../hooks/useKeyboardShortcut\";\n\n\nexport default function useTodoKeyboardShortcuts() {\n    const dispatch = useTodoDispatch();\n    const createModeKeys = [VALUE_SHIFT, VALUE_A];\n    const searchModeKeys = [VALUE_SHIFT, VALUE_S];\n    const noInputModeKeys = [VALUE_ESCAPE];\n\n    useKeyboardShortcut(createModeKeys, () => dispatch({ type: TOGGLE_MODE, value: MODE_ADD }));\n    useKeyboardShortcut(searchModeKeys, () => dispatch({ type: TOGGLE_MODE, value: MODE_SEARCH }));\n    useKeyboardShortcut(noInputModeKeys, () => dispatch({ type: TOGGLE_MODE, value: MODE_NONE }));\n}","import { TodoProvider } from '../../context/todo';\nimport TodoList from '../TodoList';\n\n\nfunction App() {\n  return (\n    <TodoProvider>\n      <TodoList />\n    </TodoProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}